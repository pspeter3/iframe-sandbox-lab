<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>iFrame Sandbox Lab</title>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.slate.min.css"
    />
  </head>
  <body>
    <main class="container" id="sandbox-form">
      <form>
        <hgroup>
          <h1>iFrame Sandbox Lab</h1>
          <p>Configure the iFrame</p>
        </hgroup>
        <label
          >URL
          <input type="url" id="url" name="url" required/>
        </label>
        <fieldset>
          <legend>Sandbox</legend>
          <label
            ><input
              type="checkbox"
              id="allow-downloads"
              name="sandbox"
              value="allow-downloads"
            />allow-downloads</label
          >
          <label
            ><input
              type="checkbox"
              id="allow-forms"
              name="sandbox"
              value="allow-forms"
            />allow-forms</label
          >
          <label
            ><input
              type="checkbox"
              id="allow-modals"
              name="sandbox"
              value="allow-modals"
            />allow-modals</label
          >
          <label
            ><input
              type="checkbox"
              id="allow-orientation-lock"
              name="sandbox"
              value="allow-orientation-lock"
            />allow-orientation-lock</label
          >
          <label
            ><input
              type="checkbox"
              id="allow-pointer-lock"
              name="sandbox"
              value="allow-pointer-lock"
            />allow-pointer-lock</label
          >
          <label
            ><input
              type="checkbox"
              id="allow-popups"
              name="sandbox"
              value="allow-popups"
            />allow-popups</label
          >
          <label
            ><input
              type="checkbox"
              id="allow-popups-to-escape-sandbox"
              name="sandbox"
              value="allow-popups-to-escape-sandbox"
            />allow-popups-to-escape-sandbox</label
          >
          <label
            ><input
              type="checkbox"
              id="allow-presentation"
              name="sandbox"
              value="allow-presentation"
            />allow-presentation</label
          >
          <label
            ><input
              type="checkbox"
              id="allow-same-origin"
              name="sandbox"
              value="allow-same-origin"
            />allow-same-origin</label
          >
          <label
            ><input
              type="checkbox"
              id="allow-scripts"
              name="sandbox"
              value="allow-scripts"
            />allow-scripts</label
          >
          <label
            ><input
              type="checkbox"
              id="allow-storage-access-by-user-activation"
              name="sandbox"
              value="allow-storage-access-by-user-activation"
            />allow-storage-access-by-user-activation</label
          >
          <label
            ><input
              type="checkbox"
              id="allow-top-navigation"
              name="sandbox"
              value="allow-top-navigation"
            />allow-top-navigation</label
          >
          <label
            ><input
              type="checkbox"
              id="allow-top-navigation-by-user-activation"
              name="sandbox"
              value="allow-top-navigation-by-user-activation"
            />allow-top-navigation-by-user-activation</label
          >
          <label
            ><input
              type="checkbox"
              id="allow-top-navigation-to-custom-protocols"
              name="sandbox"
              value="allow-top-navigation-to-custom-protocols"
            />allow-top-navigation-to-custom-protocols</label
          >
        </fieldset>
        <button type="submit">Submit</button>
      </form>
    </main>
    <script>
      const searchParams = new URLSearchParams(window.location.search);
      if (searchParams.has("url")) {
        const url = searchParams.get("url");
        const sandbox = searchParams.getAll("sandbox");
        const iframe = document.createElement("iframe");
        iframe.sandbox = sandbox.join(" ");
        iframe.src = url;
        iframe.style.width = "100%";
        iframe.style.height = "100vh";
        document.getElementById("sandbox-form").remove();
        document.body.appendChild(iframe);
      }
    </script>
  </body>
</html>
